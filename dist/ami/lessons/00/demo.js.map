{"version":3,"sources":["../../../../ami/lessons/00/demo.js"],"names":["container","getElementToContainProgressBar","document","getElementById","loader","getLoader","AMI","VolumeLoader","t2","setDataURLTermination","files","getFiles","map","currentTermination","load","then","series","data","mergeSeries","free","displaySeriesInfo","catch","error","window","console","log","seriesIndex","mySeries","seriesDiv","createElement","className","insertAdjacentHTML","length","numberOfChannels","appendChild","displayStackInfo","stackIndex","stack","myStack","stackDiv","bitsAllocated","displayFrameInfo","frameIndex","frame","myFrame","frameDiv","instanceNumber"],"mappings":";;AAAA;;AAGA,IAAMA,YAAYC,gCAAlB;;AAEA,SAASA,8BAAT,GAA0C;AACtC,WAAOC,SAASC,cAAT,CAAwB,WAAxB,CAAP;AACH;;AAGD,IAAIC,SAASC,WAAb;;AAEA,SAASA,SAAT,GAAqB;AACjB,WAAO,IAAIC,IAAIC,YAAR,CAAqBP,SAArB,CAAP;AACH;;AAED,IAAMQ,KAAKC,uBAAX;;AAEA,SAASA,qBAAT,GAAiC;AAC7B,WAAO,CACH,UADG,EAEH,UAFG,EAGH,UAHG,EAIH,UAJG,EAKH,UALG,EAMH,UANG,EAOH,UAPG,EAQH,UARG,EASH,UATG,EAUH,UAVG,EAWH,UAXG,EAYH,UAZG,EAaH,UAbG,EAcH,UAdG,EAeH,UAfG,EAgBH,UAhBG,EAiBH,UAjBG,EAkBH,UAlBG,EAmBH,UAnBG,CAAP;AAqBH;;AAED,IAAMC,QAAQC,UAAd;;AAEA,SAASA,QAAT,GAAoB;AAChB,WAAOH,GAAGI,GAAH,CAAO,UAAUC,kBAAV,EAA8B;AACxC,eAAO,+DAA+DA,kBAAtE;AACH,KAFM,CAAP;AAGH;;AAGDT,OACKU,IADL,CACUJ,KADV,EAEKK,IAFL,CAEU,YAAY;;AAEd,QAAMC,SAASZ,OAAOa,IAAP,CAAY,CAAZ,EAAeC,WAAf,CAA2Bd,OAAOa,IAAlC,CAAf;AACAb,WAAOe,IAAP;AACAf,aAAS,IAAT;;AAEAgB,sBAAkBJ,MAAlB;AACH,CATL,EAUKK,KAVL,CAUW,UAAUC,KAAV,EAAiB;AACpBC,WAAOC,OAAP,CAAeC,GAAf,CAAmB,iCAAnB;AACAF,WAAOC,OAAP,CAAeC,GAAf,CAAmBH,KAAnB;AACH,CAbL;;AAeA,SAASF,iBAAT,CAA2BJ,MAA3B,EAAmC;AAC/B,QAAIU,cAAc,CAAlB;AAD+B;AAAA;AAAA;;AAAA;AAE/B,6BAAqBV,MAArB,8HAA6B;AAAA,gBAApBW,QAAoB;;AACzB,gBAAIC,YAAY1B,SAAS2B,aAAT,CAAuB,KAAvB,CAAhB;AACAD,sBAAUE,SAAV,IAAuB,QAAvB;AACAF,sBAAUG,kBAAV,CAA6B,WAA7B,EAA0C,mBAAmBL,WAAnB,GAAiC,GAAjC,GAAuCV,OAAOgB,MAA9C,GAAuD,SAAjG;AACAJ,sBAAUG,kBAAV,CACI,WADJ,EAEI,4CAA4CJ,SAASM,gBAArD,GAAwE,QAF5E;;AAKAjC,sBAAUkC,WAAV,CAAsBN,SAAtB;;AAEAO,6BAAiBR,QAAjB,EAA2BC,SAA3B;;AAEAF;AACH;AAhB8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBlC;;AAGD,SAASS,gBAAT,CAA0BR,QAA1B,EAAoCC,SAApC,EAA+C;AAC3C,QAAIQ,aAAa,CAAjB;AAD2C;AAAA;AAAA;;AAAA;AAE3C,8BAAoBT,SAASU,KAA7B,mIAAoC;AAAA,gBAA3BC,OAA2B;;AAChC,gBAAIC,YAAWrC,SAAS2B,aAAT,CAAuB,KAAvB,CAAf;AACAU,sBAAST,SAAT,IAAsB,QAAtB;AACAS,sBAASR,kBAAT,CACI,WADJ,EAEI,kBAAkBK,UAAlB,GAA+B,GAA/B,GAAqCT,SAASU,KAAT,CAAeL,MAApD,GAA6D,SAFjE;AAIAO,sBAASR,kBAAT,CACI,WADJ,EAEI,wCAAwCO,QAAQE,aAAhD,GAAgE,QAFpE;;AAKAZ,sBAAUM,WAAV,CAAsBK,SAAtB;;AAEAE,6BAAiBH,OAAjB,EAA0BC,SAA1B;;AAEAH;AACH;AAnB0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAoB3C,WAAO,EAACA,sBAAD,EAAaG,kBAAb,EAAP;AACH;;AAED,SAASE,gBAAT,CAA0BH,OAA1B,EAAmCC,QAAnC,EAA6C;AACzC,QAAIG,aAAa,CAAjB;AADyC;AAAA;AAAA;;AAAA;AAEzC,8BAAoBJ,QAAQK,KAA5B,mIAAmC;AAAA,gBAA1BC,OAA0B;;AAC/B,gBAAIC,WAAW3C,SAAS2B,aAAT,CAAuB,KAAvB,CAAf;AACAgB,qBAASf,SAAT,IAAsB,QAAtB;AACAe,qBAASd,kBAAT,CACI,WADJ,EAEI,kBAAkBW,UAAlB,GAA+B,GAA/B,GAAqCJ,QAAQK,KAAR,CAAcX,MAAnD,GAA4D,SAFhE;AAIAa,qBAASd,kBAAT,CACI,WADJ,EAEI,yCAAyCa,QAAQE,cAAjD,GAAkE,QAFtE;;AAKAP,qBAASL,WAAT,CAAqBW,QAArB;AACAH;AACH;AAhBwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAiBzC,WAAO,EAACA,sBAAD,EAAP;AACH","file":"demo.js","sourcesContent":["/* globals AMI*/\r\n\r\n\r\nconst container = getElementToContainProgressBar();\r\n\r\nfunction getElementToContainProgressBar() {\r\n    return document.getElementById('container');\r\n}\r\n\r\n\r\nlet loader = getLoader();\r\n\r\nfunction getLoader() {\r\n    return new AMI.VolumeLoader(container);\r\n}\r\n\r\nconst t2 = setDataURLTermination();\r\n\r\nfunction setDataURLTermination() {\r\n    return [\r\n        '36444280',\r\n        '36444294',\r\n        '36444308',\r\n        '36444322',\r\n        '36444336',\r\n        '36444350',\r\n        '36444364',\r\n        '36444378',\r\n        '36444392',\r\n        '36444406',\r\n        '36444434',\r\n        '36444448',\r\n        '36444462',\r\n        '36444476',\r\n        '36444490',\r\n        '36444504',\r\n        '36444518',\r\n        '36444532',\r\n        '36746856'\r\n    ];\r\n}\r\n\r\nconst files = getFiles();\r\n\r\nfunction getFiles() {\r\n    return t2.map(function (currentTermination) {\r\n        return 'https://cdn.rawgit.com/FNNDSC/data/master/dicom/adi_brain/' + currentTermination;\r\n    });\r\n}\r\n\r\n\r\nloader\r\n    .load(files)\r\n    .then(function () {\r\n\r\n        const series = loader.data[0].mergeSeries(loader.data);\r\n        loader.free();\r\n        loader = null;\r\n\r\n        displaySeriesInfo(series);\r\n    })\r\n    .catch(function (error) {\r\n        window.console.log('oops... something went wrong...');\r\n        window.console.log(error);\r\n    });\r\n\r\nfunction displaySeriesInfo(series) {\r\n    let seriesIndex = 1;\r\n    for (let mySeries of series) {\r\n        let seriesDiv = document.createElement('div');\r\n        seriesDiv.className += 'indent';\r\n        seriesDiv.insertAdjacentHTML('beforeend', '<div> SERIES (' + seriesIndex + '/' + series.length + ')</div>');\r\n        seriesDiv.insertAdjacentHTML(\r\n            'beforeend',\r\n            '<div class=\"series\"> numberOfChannels: ' + mySeries.numberOfChannels + '</div>'\r\n        );\r\n\r\n        container.appendChild(seriesDiv);\r\n\r\n        displayStackInfo(mySeries, seriesDiv);\r\n\r\n        seriesIndex++;\r\n    }\r\n}\r\n\r\n\r\nfunction displayStackInfo(mySeries, seriesDiv) {\r\n    let stackIndex = 1;\r\n    for (let myStack of mySeries.stack) {\r\n        let stackDiv = document.createElement('div');\r\n        stackDiv.className += 'indent';\r\n        stackDiv.insertAdjacentHTML(\r\n            'beforeend',\r\n            '<div> STACK (' + stackIndex + '/' + mySeries.stack.length + ')</div>'\r\n        );\r\n        stackDiv.insertAdjacentHTML(\r\n            'beforeend',\r\n            '<div class=\"stack\"> bitsAllocated: ' + myStack.bitsAllocated + '</div>'\r\n        );\r\n\r\n        seriesDiv.appendChild(stackDiv);\r\n\r\n        displayFrameInfo(myStack, stackDiv);\r\n\r\n        stackIndex++;\r\n    }\r\n    return {stackIndex, stackDiv};\r\n}\r\n\r\nfunction displayFrameInfo(myStack, stackDiv) {\r\n    let frameIndex = 1;\r\n    for (let myFrame of myStack.frame) {\r\n        let frameDiv = document.createElement('div');\r\n        frameDiv.className += 'indent';\r\n        frameDiv.insertAdjacentHTML(\r\n            'beforeend',\r\n            '<div> FRAME (' + frameIndex + '/' + myStack.frame.length + ')</div>'\r\n        );\r\n        frameDiv.insertAdjacentHTML(\r\n            'beforeend',\r\n            '<div class=\"frame\"> instanceNumber: ' + myFrame.instanceNumber + '</div>'\r\n        );\r\n\r\n        stackDiv.appendChild(frameDiv);\r\n        frameIndex++;\r\n    }\r\n    return {frameIndex};\r\n}\r\n"]}